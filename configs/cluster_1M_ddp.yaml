# DDP 1M-step config.
# Carries over cluster_1M_sweep architecture/training choices, but uses:
# - dataset: isles24 (from cluster base)
# - distribution: ddp
# - global train batch size: 32 (defined in environment/isles_ddp_cluster)

defaults:
  - cluster
  - override /environment: isles_ddp_cluster
  - override /distribution: ddp
  - override /optimizer: adamw_75e5lr_wd00
  - override /model: medsegdiff_256_4l_32c_6x4a_128t_1btl_medium_simple
  - override /loss: multitask_equal
  - override /augmentation: aggressive_2d
  - override /training: train_1Mms_ampbfloat16
  - override /scheduler: warmup_cosine_20Ksteps
  - override /diffusion: openai_ddim_50steps
  - override /logging: ddim_50steps
  - override /validation: default

environment:
  training:
    output_root: '/mnt/outputs/medsegdiff_1M_2gpu_190226/'

