# MedSegDiff Medium - Double capacity for plateau-breaking
# ~4x parameters vs. 16c variant, should still fit 8+ samples/GPU
#
# Changes from 16c baseline:
# - first_conv_channels: 16 → 32 (channel progression: 32→64→128→256)
# - att_heads × att_head_dim: 6×4=24 → 8×8=64 (more expressive attention)
# - time_embedding_dim: 128 → 256 (richer time conditioning)
# - bottleneck_transformer_layers: 1 → 2 (deeper bottleneck fusion)
#
# Use with: scheduler=warmup_cosine_10pct for LR decay

image_size: 256
num_layers: 4
weight_initializer: InitWeights_He
linear_attn_layers: null  # [T, T, T, F] - linear attention for first 3 layers
skip_connect_image_feature_maps: false
first_conv_channels: 32
time_embedding_dim: 256
mask_channels: 1
output_channels: 1
image_channels: ${dataset.num_modalities}  # Auto-derived (2 for CBF+TMAX)
att_heads: 8
att_head_dim: 8
bottleneck_transformer_layers: 2
architecture: "medsegdiff"

