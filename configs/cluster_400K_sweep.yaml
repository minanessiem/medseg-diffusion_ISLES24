# Single-GPU 400K sweep config for extended training experiments
# Based on the winning configuration that achieved 8.92% Dice
#
# Usage: python3 -m scripts.slurm.single_job_runner --config-name cluster_400K_sweep --gpus 1 \
#   --overrides optimizer=adamw_5e5lr_wd00

defaults:
  - cluster                              # base cluster environment
  - override /model: medsegdiff_256_4l_32c_6x4a_128t_1btl_medium_simple
  - override /loss: multitask_equal
  - override /augmentation: aggressive_2d
  - override /training: train_400Kms_ampbfloat16
  - override /scheduler: warmup_cosine_20Ksteps
  - override /diffusion: openai_ddim_50steps
  - override /logging: ddim_50steps
  - override /validation: default

# Override environment settings for single-GPU training
environment:
  dataset:
    train_batch_size: 24
  training:
    output_root: '/mnt/outputs/medsegdiff_400K_sweep/'


